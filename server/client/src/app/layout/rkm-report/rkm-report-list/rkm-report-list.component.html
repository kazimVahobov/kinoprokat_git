<section class="content-header">
  <div class="row">
    <div class="col-md-2">
      <h3 style="display: inline;">
        Отчёты
      </h3>
    </div>
    <div class="col-md-7 col-md-offset-3">
      <div class="col-md-3"></div>
      <div class="col-md-4" style="padding-right: 0 !important;">
        <div *ngIf="currentMode === 0" class="input-group">
          <input type="text"
                 class="form-control"
                 #dp="bsDatepicker"
                 [(ngModel)]="currentDateForDist"
                 placeholder="Укажите дату"
                 bsDatepicker>
          <span class="input-group-addon">
            <span popover="Сбросить"
                  triggers="mouseenter:mouseleave"
                  *ngIf="currentDateForDist !== null"
                  (click)="clearDataPicker()"
                  class="fa fa-remove">
            </span>
          </span>
        </div>
        <div *ngIf="currentMode === 1" class="input-group">
          <input type="text"
                 class="form-control"
                 #dp="bsDatepicker"
                 [(ngModel)]="currentDate"
                 placeholder="Укажите дату"
                 bsDatepicker>
          <span class="input-group-addon">
            <span popover="Сбросить"
                  triggers="mouseenter:mouseleave"
                  *ngIf="currentDate !== null"
                  (click)="clearDataPicker()"
                  class="fa fa-remove">
            </span>
          </span>
        </div>
      </div>
      <div class="col-md-4">
        <ng-select [items]="modes"
                   bindLabel="name"
                   bindValue="value"
                   [clearable]="false"
                   [(ngModel)]="currentMode"
                   [searchable]="false">
        </ng-select>
      </div>
      <div class="col-md-1" style="padding: 0;">
        <button class="btn my-btn"
                popover="Обновить"
                triggers="mouseenter:mouseleave">
          <span class="fa fa-refresh fa-lg" (click)="refresh()"></span>
        </button>
      </div>
    </div>
  </div>
</section>
<section class="content">
  <div class="row">
    <div class="text-center text-muted col-md-12" *ngIf="!state">
      <h1>Подождите, идёт загрузка</h1>
    </div>
    <div class="col-md-12">
      <!--theater report-->
      <app-theater-in-report [currentDate]="currentDate"
                             *ngIf="currentMode === 1 && state"></app-theater-in-report>
      <!--distributor report-->
      <app-dist-in-report [currentDateForDist]="currentDateForDist"
                          *ngIf="currentMode === 0 && state"></app-dist-in-report>
    </div>
  </div>
</section>
